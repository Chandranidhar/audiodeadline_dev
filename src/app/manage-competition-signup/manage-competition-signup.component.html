<app-adminheader></app-adminheader>

<div class="container-fluid dashboard_body">
  <div class="row rowmaindiv">
    <div class="col-lg-4 col-md-12 col-sm-12 col-xs-12 dashboard_left">
      <app-adminleft></app-adminleft>
    </div>
    <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12 dashboard_right">
      <div class="dashboard_right_wrapper">
        <div class="dashboard1_div1 adminlisttable">
          <div class="n-adminheadercls">
            <h4>Manage Competition Sign-Ups</h4>
          </div>
          <div class="dashboardwrapper">

            <div class="tabletopbar newtabletopbar">
              <div class="pull-right">
                <form id="filter">
                  <ul>
                    <li>
                      <div>
                        <div class="input-group col-md-12">
                          <!--<input style="border-radius: 0;" placeholder="Search By Date Signed Up" name="searchDate" autocomplete="off" class="form-control input-lg dtrange"
                                 [(ngModel)]="searchText5"
                                 [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1">
                          <owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>-->
                          <!--<input style="border-radius: 0;" placeholder="Search By Signed Up" name="searchDate" autocomplete="off" class="form-control input-lg dtrange"
                                 [(ngModel)]="searchText3"
                                 [selectMode]="'range'"
                                 [owlDateTimeTrigger]="dtRange1" [owlDateTime]="dtRange1">
                          <owl-date-time [pickerType]="'calendar'" #dtRange1></owl-date-time>-->
                          <input style="border-radius: 0;" placeholder="Search By Date Range" name="searchDate" autocomplete="off" class="form-control input-lg dtrange"
                                 [(ngModel)]="searchText3"
                                 [selectMode]="'range'"
                                 [owlDateTimeTrigger]="dtRange1" [owlDateTime]="dtRange1">
                          <owl-date-time [pickerType]="'calendar'" #dtRange1></owl-date-time>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div>
                        <div class="input-group col-md-12">
                          <select name="searchText2" [(ngModel)]="searchText4" class="form-control input-lg">
                            <option value="">Search By Status</option>
                            <option value="">All Status</option>
                            <option value="0">Pending</option>
                            <option value="1">Approved</option>
                            <option value="2">Declined</option>
                          </select>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div>
                        <div class="input-group col-md-12">
                          <select name="searchText2" [(ngModel)]="searchText6" class="form-control input-lg">
                            <option value="">Search By Genre</option>
                            <option value="">All Genre</option>
                            <option *ngFor="let item of genrelist" value="{{item._id}}">{{item.genrename}}</option>
                          </select>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div>
                        <div class="input-group col-md-12">
                          <select name="searchText2" [(ngModel)]="searchText2" class="form-control input-lg">
                            <option value="" style="text-transform: uppercase;">SEARCH BY COMPETITION</option>
                            <option value="" style="text-transform: uppercase;">ALL COMPETITION</option>
                            <option *ngFor="let item of competitionlist" value="{{item._id}}">{{item.competitionname}}</option>
                          </select>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div>
                        <div class="input-group col-md-12">
                          <input type="text" class="form-control input-lg newtabletopbarsearchfield" placeholder="Search By Name/Email" autocomplete="off" [(ngModel)]="searchText" name="searchText" />
                        </div>
                      </div>
                    </li>
                  </ul>
                </form>
              </div>
            </div>
            <div class="tabcontentwrapper">
              <div class="adminlisttable adminlisttabledashboard">
                <div class="tablediv">
                  <table>
                    <thead>
                    <tr>
                      <th class="empycell"></th>
                      <th>Date</th>
                      <th>Name</th>
                      <!--<th>Last</th>-->
                      <th>Sign-up Form</th>
                      <th>Email</th>
                      <th>Competition</th>
                      <th>Genre</th>
                      <th class="text-center">Status</th>
                      <th class="text-center">Action</th>
                      <th class="empycell"></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let item of userlist | compuserfilter : searchText : 'name' | datefilter : searchText3 | compuserfilter : searchText2 : 'competition' | compuserfilter : searchText6 : 'genre' | compuserfilter : searchText4 : 'status' | oreder2 : searchText5 | paginate: { itemsPerPage: 10, currentPage: p }">
                      <td class="empycell"></td>
                      <td data-label="date" style="min-width: 95px;">{{(item.added_time*1000) | date :  "MM/dd/yyyy hh:mmaa"}}</td>
                      <!--<td data-label="First">Ann &lt;!&ndash;{{item.firstname}}&ndash;&gt;</td>-->
                      <td data-label="name">{{item.name}}</td>
                      <td data-label="Sign-up Form" class="viewcls" (click)="viewassets(template,item)">View</td>
                      <td data-label="Email">{{item.email}}</td>
                      <td data-label="Competition">{{item.competitionname}}</td>
                      <td data-label="Genre">{{item.genrename}}</td>
                      <td data-label="Status" class="text-center">
                        <span *ngIf="!item.isStatusClicked" [ngClass]="(item.status == 1 ? 'statusactive' : (item.status == 2 ? 'statusinactive' : 'statuspendinng'))" style="cursor: pointer;">{{getStatusName(item.status)}}</span>
                        <!--<span *ngIf="item.isStatusClicked" class="statusclsdropdown">
                          <select name="status" (change)="editInlineField($event,item,item.status)" (blur)="selectblur(item)">
                            <option value="0" [selected]="item.status == 0" *ngIf="item.status == 0">Pending</option>
                            <option value="1" [selected]="item.status == 1">Approved</option>
                            <option value="2" [selected]="item.status == 2">Denied</option>
                          </select>
                        </span>-->
                      </td>
                      <td data-label="Action" class="whitebtnlists text-center">
                        <a href="javascript:void(0)" (click)="editInlineField(1,item,item.status)" class="loginbtn2 btnview tooltip btnwhite"><i class="fa fa-thumbs-up"></i><span class="tooltiptext">Approve</span></a>
                        <a href="javascript:void(0)" (click)="editInlineField(2,item,item.status)" class="loginbtn2 btnedit tooltip1 btnwhite"><i class="fa fa-ban"></i><span class="tooltiptext">Deny</span></a>
                        <a href="mailto:{{item.email}}" class="loginbtn2 btndelete tooltip2 btnwhite"><i class="fa fa-envelope"></i><span class="tooltiptext">Email</span></a>
                      </td>
                      <td class="empycell"></td>
                    </tr>
                    <tr *ngIf="!(userlist | compuserfilter : searchText : 'name' | compuserfilter : searchText2 : 'competition'| datefilter : searchText3 | compuserfilter : searchText6 : 'genre' | compuserfilter : searchText4 : 'status' | oreder2 : searchText5).length && !loadinglist">
                      <td class="empycell"></td>
                      <td colspan="8" style="text-align: center;">No Record Found</td>
                      <td class="empycell"></td>
                    </tr>
                    <tr *ngIf="loadinglist">
                      <td class="empycell"></td>
                      <td colspan="8" style="text-align: center;"><div class="loadertabledata"></div><!--<img src="../../assets/images/loader.gif" style="width: 100px;">--></td>
                      <td class="empycell"></td>
                    </tr>

                    </tbody>
                  </table>
                  <pagination-controls  *ngIf="(userlist | compuserfilter : searchText : 'name' | compuserfilter : searchText2 : 'competition'| datefilter : searchText3 | compuserfilter : searchText6 : 'genre' | compuserfilter : searchText4 : 'status' | oreder2 : searchText5).length" (pageChange)="p = $event" maxSize="9" autoHide="true" responsive="true" class="my-pagination"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
</div>

<app-adminfooter></app-adminfooter>



<ng-template #template>
  <div class="modal-body text-center modalcls n-modalcls">
    <!-- <button (click)="close()" class="close" type="button">Ã—</button>-->
    <div class="formnewpopupheader">
      <h4>View Form</h4>
    </div>

    <div class="dashboard1form formnewpopup">

      <form name="dataForm" novalidate [formGroup]="dataForm" (ngSubmit)="dosubmit(dataForm.value)" class="form-horizontal">
        <div *ngIf="is_error" class="singleerror">{{is_error}}</div>
        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Full Name:</label></div>
          <div class="col-md-8">
            <input type="text" class="form-control" name="fullname" placeholder="Full Name" [formControl]="dataForm.controls['fullname']">
            <span *ngIf ="dataForm.controls['fullname'].touched && !dataForm.controls['fullname'].valid" class="has-error"> Full Name field can not be blank</span>
          </div>
        </div>

        <!--<div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Artist Name:</label></div>
          <div class="col-md-8">
            <input type="text" class="form-control" name="artistname" placeholder="Artist Name" [formControl]="dataForm.controls['artistname']">
            <span *ngIf ="dataForm.controls['artistname'].touched && !dataForm.controls['artistname'].valid" class="has-error"> Artist Name field can not be blank</span>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Birth Date:</label></div>
          <div class="col-md-8">
            <input type="text" class="form-control" name="birthdate" placeholder="Artist Name" [formControl]="dataForm.controls['birthdate']">
            <span *ngIf ="dataForm.controls['birthdate'].touched && !dataForm.controls['birthdate'].valid" class="has-error"> Birth Date field can not be blank</span>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*State:</label></div>
          <div class="col-md-8">
            <input type="text" class="form-control" name="state" placeholder="State" [formControl]="dataForm.controls['state']">
            <span *ngIf ="dataForm.controls['state'].touched && !dataForm.controls['state'].valid" class="has-error"> State field can not be blank</span>
          </div>
        </div>-->

        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Email:</label></div>
          <div class="col-md-8">
            <input type="text" class="form-control" name="email" placeholder="email" [formControl]="dataForm.controls['email']">
            <span *ngIf ="dataForm.controls['email'].touched && !dataForm.controls['email'].valid" class="has-error"> Email field can not be blank</span>
          </div>
        </div>

        <!--<div class="form-group">-->
          <!--<div class="col-md-4 control-label text-left"><label>*Phone Number:</label></div>-->
          <!--<div class="col-md-8">-->
            <!--<input type="text" class="form-control" name="phonenumber" placeholder="phonenumber" [formControl]="dataForm.controls['phonenumber']">-->
            <!--<span *ngIf ="dataForm.controls['phonenumber'].touched && !dataForm.controls['phonenumber'].valid" class="has-error"> Email field can not be blank</span>-->
          <!--</div>-->
        <!--</div>-->

        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Competition:</label></div>
          <div class="col-md-8">
            <select class="form-control" name="competition" [formControl]="dataForm.controls['competition']"   >
              <!--<option value="">Select Genre</option>-->
              <option *ngFor="let item of competitionlist" value="{{item.competitionname}}">{{item.competitionname}}</option>
              <!--<option value="DANCER COMPETITION">Dancer Competition</option>
              <option value="PRODUCER COMPETITION">Producer Competition</option>
              <option value="RAPPER COMPETITION">Rapper Competition</option>
              <option value="VOCALIST COMPETITION">Vocalist Competition</option>-->
            </select>
            <span *ngIf ="dataForm.controls['competition'].touched && !dataForm.controls['competition'].valid" class="has-error">Please select atleast one competition.</span>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-4 control-label text-left"><label>*Genre:</label></div>
          <div class="col-md-8">
            <select class="form-control" name="genre" [formControl]="dataForm.controls['genre']" >
              <!--<option value="">Select Genre</option>-->
              <option *ngFor="let item of genrelist" value="{{item._id}}">{{item.genrename}}</option>
              <!--<option value="Ballet">Ballet</option>
              <option value="Blues">Blues</option>
              <option value="Contemporary">Contemporary</option>
              <option value="Country">Country</option>
              <option value="EDM">EDM</option>
              <option value="EDM">EDM</option>
              <option value="Heavy Metal">Heavy Metal</option>
              <option value="Hip-Hop (Dance)">Hip-Hop (Dance)</option>
              <option value="Hip-Hop (Music)">Hip-Hop (Music)</option>
              <option value="Jazz (Dance)">Jazz (Dance)</option>
              <option value="Jazz (Music)">Jazz (Music)</option>
              <option value="Lyrical">Lyrical</option>
              <option value="Modern">Modern</option>
              <option value="Musical">Musical</option>
              <option value="Open (Combination of Dance)">Open (Combination of Dance)</option>
              <option value="Pop">Pop</option>
              <option value="Rap">Rap</option>
              <option value="Rock">Rock</option>
              <option value="Tap">Tap</option>-->
            </select>
            <!--<input type="text" class="form-control" name="genre" placeholder="genre" [formControl]="dataForm.controls['genre']">-->
            <span *ngIf ="dataForm.controls['genre'].touched && !dataForm.controls['genre'].valid" class="has-error">Please select at least one genre.</span>
          </div>
        </div>
        <!--<input type="submit" name="submit" value="SUBMIT" class="loginbtn2">-->
      </form>

      <div *ngIf="selecteduser.backstorytype !='' && selecteduser.backstoryval !=''" class="uploadimg uploadcls">
        <div class="subheadertitlepop">
          <label>Bio Video<!--Back Story--></label>
        </div>

        <div class="uploadvideo_box" *ngIf="selecteduser.backstorytype == 'Youtube'">
          <div class="uploadvideo_boxcon"   >   <iframe class="embed-responsive-item" [src]="iframevideourl" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="width: 50vw; height: 28.13vw"></iframe></div>
        </div>
        <div class="uploadvideo_box" *ngIf="selecteduser.backstorytype == 'Vimeo'">
          <div class="uploadvideo_boxcon"  >  <iframe class="embed-responsive-item" [src]="iframevideourl" webkitallowfullscreen mozallowfullscreen allowfullscreen style="width: 50vw; height: 28.13vw"></iframe></div>
        </div>
        <div class="uploadvideo_box" *ngIf="selecteduser.backstorytype == 'Upload'">
          <div class="uploadvideo_boxcon">   <video  style="width: 50vw;" controls>
            <source [src]="iframevideourl" type="video/mp4">
          </video>
          </div>



        </div>
        <div class="clearfix"></div>
      </div>
      <div *ngIf="selecteduser.isImages" class="uploadimg uploadcls">
        <div class="subheadertitlepop">
          <label>Images of models<!--Image--></label>
        </div>


        <div  class="uploadimg_box" *ngFor="let item of selecteduser.images">
          <div class="uploadimg_boxcon"> <img src="{{fileurl}}{{imageuploadfolder}}{{item}}"></div>
        </div>
        <div class="clearfix"></div>
      </div>
      <div *ngIf="selecteduser.isVideos" class="uploadimg uploadcls">
        <div class="subheadertitlepop">
          <label>Videos of Performance<!--Video--></label>
        </div>

        <div  class="uploadvideo_box" *ngFor="let item of selecteduser.videos">
          <div class="uploadvideo_boxcon">
            <video style="width: 50vw;" controls>
              <source [src]="getPath(item,videouploadfolder)" type="video/mp4">
            </video>
          </div>
        </div>
        <div class="clearfix"></div>
      </div>
      <div *ngIf="selecteduser.isMusics" class="uploadimg uploadcls">
        <div class="subheadertitlepop">
          <label>Audio Files<!--Music--></label>
        </div>
        <div *ngFor="let item of selecteduser.musics">
          <audio style="width: 100%;" controls>
            <source [src]="getPath(item,musicuploadfolder)" type="audio/mpeg">
          </audio>
        </div>
      </div>


    </div>

    <!--
     <div class="formnewpopupheader">
       <h4>Assets</h4>
     </div>-->



  </div>
</ng-template>